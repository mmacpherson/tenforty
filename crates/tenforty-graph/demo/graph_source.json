{
  "meta": {
    "form_id": "us_1040_simple",
    "year": 2024,
    "generated_by": "hand-written example"
  },
  "nodes": {
    "0": { "id": 0, "op": { "type": "input" }, "name": "wages" },
    "1": { "id": 1, "op": { "type": "input" }, "name": "interest" },
    "2": { "id": 2, "op": { "type": "input" }, "name": "dividends" },
    "3": { "id": 3, "op": { "type": "add", "left": 0, "right": 1 }, "name": "wages_plus_interest" },
    "4": { "id": 4, "op": { "type": "add", "left": 3, "right": 2 }, "name": "total_income" },
    "5": { "id": 5, "op": { "type": "by_status", "values": {
      "single": 10,
      "married_joint": 11,
      "married_separate": 12,
      "head_of_household": 13,
      "qualifying_widow": 14
    }}, "name": "std_ded_lookup" },
    "10": { "id": 10, "op": { "type": "literal", "value": 14600 }, "name": "std_ded_single" },
    "11": { "id": 11, "op": { "type": "literal", "value": 29200 }, "name": "std_ded_mfj" },
    "12": { "id": 12, "op": { "type": "literal", "value": 14600 }, "name": "std_ded_mfs" },
    "13": { "id": 13, "op": { "type": "literal", "value": 21900 }, "name": "std_ded_hoh" },
    "14": { "id": 14, "op": { "type": "literal", "value": 29200 }, "name": "std_ded_qw" },
    "20": { "id": 20, "op": { "type": "sub", "left": 4, "right": 5 }, "name": "taxable_raw" },
    "21": { "id": 21, "op": { "type": "literal", "value": 0 }, "name": "zero" },
    "22": { "id": 22, "op": { "type": "max", "left": 20, "right": 21 }, "name": "taxable_income" },
    "30": { "id": 30, "op": { "type": "bracket_tax", "table": "federal_2024", "income": 22 }, "name": "federal_tax" },
    "40": { "id": 40, "op": { "type": "div", "left": 30, "right": 4 }, "name": "effective_rate_raw" },
    "41": { "id": 41, "op": { "type": "literal", "value": 100 }, "name": "hundred" },
    "42": { "id": 42, "op": { "type": "mul", "left": 40, "right": 41 }, "name": "effective_rate_pct" }
  },
  "tables": {
    "federal_2024": {
      "brackets": {
        "single": [
          { "threshold": 11600, "rate": 0.10 },
          { "threshold": 47150, "rate": 0.12 },
          { "threshold": 100525, "rate": 0.22 },
          { "threshold": 191950, "rate": 0.24 },
          { "threshold": 243725, "rate": 0.32 },
          { "threshold": 609350, "rate": 0.35 },
          { "threshold": 1e18, "rate": 0.37 }
        ],
        "married_joint": [
          { "threshold": 23200, "rate": 0.10 },
          { "threshold": 94300, "rate": 0.12 },
          { "threshold": 201050, "rate": 0.22 },
          { "threshold": 383900, "rate": 0.24 },
          { "threshold": 487450, "rate": 0.32 },
          { "threshold": 731200, "rate": 0.35 },
          { "threshold": 1e18, "rate": 0.37 }
        ],
        "married_separate": [
          { "threshold": 11600, "rate": 0.10 },
          { "threshold": 47150, "rate": 0.12 },
          { "threshold": 100525, "rate": 0.22 },
          { "threshold": 191950, "rate": 0.24 },
          { "threshold": 243725, "rate": 0.32 },
          { "threshold": 365600, "rate": 0.35 },
          { "threshold": 1e18, "rate": 0.37 }
        ],
        "head_of_household": [
          { "threshold": 16550, "rate": 0.10 },
          { "threshold": 63100, "rate": 0.12 },
          { "threshold": 100500, "rate": 0.22 },
          { "threshold": 191950, "rate": 0.24 },
          { "threshold": 243700, "rate": 0.32 },
          { "threshold": 609350, "rate": 0.35 },
          { "threshold": 1e18, "rate": 0.37 }
        ],
        "qualifying_widow": [
          { "threshold": 23200, "rate": 0.10 },
          { "threshold": 94300, "rate": 0.12 },
          { "threshold": 201050, "rate": 0.22 },
          { "threshold": 383900, "rate": 0.24 },
          { "threshold": 487450, "rate": 0.32 },
          { "threshold": 731200, "rate": 0.35 },
          { "threshold": 1e18, "rate": 0.37 }
        ]
      }
    }
  },
  "inputs": [0, 1, 2],
  "outputs": [30, 42],
  "invariants": [
    { "type": "monotonic", "input": "wages", "output": "federal_tax" },
    { "type": "bounds", "node": "effective_rate_pct", "min": 0, "max": 37 }
  ]
}
